{"version":3,"sources":["webpack:///./src/app/Pages/Dashboard/KYC/UserRoles/UserRole.component.html","webpack:///./src/app/Pages/Dashboard/KYC/UserRoles/UserRole.component.css","webpack:///./src/app/Pages/Dashboard/KYC/UserRoles/UserRole.component.ts","webpack:///./src/app/Pages/Dashboard/KYC/UserRoles/UserRole.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,iZAAiZ,iBAAiB,ySAAyS,WAAW,wEAAwE,iBAAiB,iNAAiN,iBAAiB,0SAA0S,YAAY,2FAA2F,YAAY,2QAA2Q,GAAG,kCAAkC,GAAG,SAAS,SAAS,4EAA4E,YAAY,aAAa,SAAS,GAAG,YAAY,KAAK,YAAY,oQAAoQ,GAAG,gBAAgB,GAAG,GAAG,SAAS,8EAA8E,YAAY,aAAa,SAAS,KAAK,YAAY,8cAA8c,aAAa,2U;;;;;;;;;;;ACAnwF,gDAAgD,8BAA8B,KAAK,+CAA+C,mZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAhF;AACT;AACgB;AACQ;AACN;AAO3D;IAME,2BAAoB,MAAa,EAAS,UAAqB,EAAS,KAAmB;QAAvE,WAAM,GAAN,MAAM,CAAO;QAAS,eAAU,GAAV,UAAU,CAAW;QAAS,UAAK,GAAL,KAAK,CAAc;QAL3F,iBAAY,GAAC,EAAE,CAAC;QAChB,YAAO,GAAC,EAAE,CAAC;QACX,SAAI,GAAS,KAAK,CAAC;QACnB,SAAI,GAAC,wEAAW,CAAC,oBAAoB,CAAC;IAEyD,CAAC;IAEhG,oCAAQ,GAAR;QACI,IAAI,CAAC,eAAe,EAAE;IAC1B,CAAC;IAED,uCAAW,GAAX;QACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,0BAA0B,CAAC,CAAC;IACpD,CAAC;IAED,2CAAe,GAAf;QAAA,iBAOC;QANC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC,SAAS,CAAC,UAAC,GAAO;YAClD,IAAG,GAAG,CAAC,MAAM,EAAC;gBACZ,KAAI,CAAC,YAAY,GAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;gBACzC,KAAI,CAAC,UAAU,EAAE,CAAC;aACnB;QACH,CAAC,CAAC;IACJ,CAAC;IAED,sCAAU,GAAV;QAAA,iBAUC;QATC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,UAAC,GAAO;YAC7C,IAAG,GAAG,CAAC,MAAM,EAAC;gBACZ,KAAI,CAAC,OAAO,GAAC,GAAG,CAAC,QAAQ,CAAC;gBAC1B,UAAU,CAAC;oBACT,KAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,CAAC,EAAE,GAAG,CAAC,CAAC;aAET;QACH,CAAC,CAAC;IACJ,CAAC;IAED,uCAAW,GAAX;QAAA,iBAQC;QANC,CAAC,CAAC,4BAA4B,CAAC,CAAC,OAAO,EAAE,CAAC;QACxC,IAAI,CAAC,gBAAgB,EAAE;QAEzB,CAAC,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAC,CAAC;YACpC,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC;QACvC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4CAAgB,GAAhB;QACE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAC,IAAI,EAAC,CAAC;YAC3B,IAAM,MAAM,GAAC,EAAE;YACb,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAI;gBACjB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAC,GAAG,GAAC,IAAI,CAAC,KAAK,CAAC;YACrC,CAAC,CAAC;YACJ,IAAM,EAAE,GAAC,MAAI,CAAC,eAAU,IAAI,CAAC,EAAI,CAAC;YAClC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAClB,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACxB,OAAM;QAGR,CAAC,CAAC;IACJ,CAAC;IAED,6CAAiB,GAAjB,UAAkB,EAAE;QAApB,iBAiBC;QAhBC,IAAM,MAAM,GAAC,CAAC,CAAC,MAAI,EAAI,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAG;QACvC,IAAM,KAAK,GAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,KAAK,GAAC,EAAE,CAAC;QAClC,MAAM,CAAC,GAAG,CAAC,cAAI;YACb,IAAM,EAAE,GAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAM,KAAK,GAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAM,WAAW,GAAC,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,cAAI,IAAG,OAAO,IAAI,CAAC,EAAE,IAAI,EAAE,GAAC,CAAC,CAAC;YACzF,IAAG,WAAW,IAAI,CAAC,CAAC,EAAC;gBACnB,uDAAuD;aACxD;iBAAI;gBACH,IAAM,SAAS,GAAC,EAAE,IAAI,EAAE,EAAE,EAAC,OAAO,EAAE,KAAK,EAAC;gBAC1C,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC;aAC/C;QACH,CAAC,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;QAC9B,OAAM;IACR,CAAC;IAED,0CAAc,GAAd;QAAA,iBAcC;QAbC,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC;QACf,IAAM,IAAI,GAAC;YACT,WAAW,EAAC,IAAI,CAAC,YAAY;SAC9B;QACD,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,GAAO;YACrD,KAAI,CAAC,IAAI,GAAC,KAAK,CAAC;YAChB,IAAG,GAAG,CAAC,MAAM,EAAC;gBACZ,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAI,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;gBACpE,OAAM;aACP;YACD,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC;QAEhD,CAAC,CAAC;IACJ,CAAC;;gBAzF0B,sDAAM;gBAAoB,8EAAU;gBAAe,sEAAa;;IANhF,iBAAiB;QAJ7B,+DAAS,CAAC;YACT,+KAAwC;;SAEzC,CAAC;yCAO2B,sDAAM,EAAoB,8EAAU,EAAe,sEAAa;OANhF,iBAAiB,CAmG7B;IAAD,wBAAC;CAAA;AAnG6B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXW;AACc;AACX;AACG;AACoB;AACV;AAMzD,IAAM,WAAW,GAAW;IACxB;QACI,IAAI,EAAE,WAAW;QACjB,SAAS,EAAC,qEAAiB;KAC5B;CACJ;AAaH;IAAA;IAA8B,CAAC;IAAlB,cAAc;QAX1B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY,CAAC,QAAQ,CAAC,WAAW,CAAC;gBAClC,0DAAW;gBACX,4DAAY;gBACZ,gFAAY;aACb;YACD,YAAY,EAAC;gBACX,qEAAiB;aAClB;SACF,CAAC;OACW,cAAc,CAAI;IAAD,qBAAC;CAAA;AAAJ","file":"KYC-UserRoles-UserRole-module.js","sourcesContent":["module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n    <!-- ============================================================== -->\\r\\n    <!-- Bread crumb and right sidebar toggle -->\\r\\n    <!-- ============================================================== -->\\r\\n    <div class=\\\"row page-titles\\\">\\r\\n        <div class=\\\"col-md-5 align-self-center\\\">\\r\\n            <h4 class=\\\"text-themecolor\\\">{{LANG.User_roles}}</h4>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-7 align-self-center text-right\\\">\\r\\n            <div class=\\\"d-flex justify-content-end align-items-center\\\">\\r\\n                <ol class=\\\"breadcrumb\\\">\\r\\n                    <li class=\\\"breadcrumb-item\\\"><a href=\\\"javascript:void(0)\\\">{{LANG.Home}}</a></li>\\r\\n                    <li class=\\\"breadcrumb-item active\\\">{{LANG.User_roles}}</li>\\r\\n                </ol>\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-info d-none d-lg-block m-l-15\\\" (click)=\\\"addInfoType()\\\"><i\\r\\n                    class=\\\"fa fa-plus-circle\\\"></i> {{LANG.Create_New}}</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <div class=\\\"row attributes mt-3\\\" *ngFor=\\\"let data of userTypeList;let i=index;\\\">\\r\\n                        <div class=\\\"col-md-6\\\">\\r\\n                          <h3>{{data.title}}</h3>\\r\\n                         \\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-6\\\">\\r\\n                          <ng-container>\\r\\n                              <select class=\\\"js-example-basic-multiple multi-id\\\" name=\\\"details{{i}}[]\\\" multiple=\\\"multiple\\\" id=\\\"{{i}}_multi-{{data.id}}\\\">\\r\\n                                <option *ngFor=\\\"let item of kycList;let j=index;\\\" value=\\\"{{item.id}},{{item.title}}\\\">{{item.title}}</option>\\r\\n                              </select>\\r\\n                          </ng-container>\\r\\n                          <!-- <ng-template #single_select>\\r\\n                            <select class=\\\"js-example-basic-single single-id\\\" name=\\\"details{{i}}\\\" id=\\\"single{{i}}-{{data.id}}\\\">\\r\\n                              <option *ngFor=\\\"let item of data.detail;let j=index;\\\" value=\\\"{{item.id}}\\\">{{item.title}}</option>\\r\\n                            </select> \\r\\n                          </ng-template> -->\\r\\n        \\r\\n                          \\r\\n                         \\r\\n                        </div>\\r\\n                        \\r\\n                      </div>\\r\\n                      <div class=\\\"col-md-12 text-center mt-3\\\">\\r\\n                        <button *ngIf=\\\"!load\\\" type=\\\"submit\\\" class=\\\"btn btn-primary mt-2\\\" (click)=\\\"updateUserRole()\\\">{{LANG.Update}}</button>\\r\\n                        <button class=\\\"btn btn-primary\\\" *ngIf=\\\"load\\\">                                \\r\\n                            <loader></loader>\\r\\n                        </button>\\r\\n                      </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","module.exports = \"::ng-deep  .select2-container{\\r\\n    width: 50% !important;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvRGFzaGJvYXJkL0tZQy9Vc2VyUm9sZXMvVXNlclJvbGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtBQUN6QiIsImZpbGUiOiJzcmMvYXBwL1BhZ2VzL0Rhc2hib2FyZC9LWUMvVXNlclJvbGVzL1VzZXJSb2xlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAgIC5zZWxlY3QyLWNvbnRhaW5lcntcclxuICAgIHdpZHRoOiA1MCUgIWltcG9ydGFudDtcclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrManager } from 'ng6-toastr-notifications';\r\nimport { KYCService } from 'src/app/shared/Services/kyc.service';\r\nimport { environment } from 'src/environments/environment';\r\ndeclare const $:any;\r\n\r\n@Component({\r\n  templateUrl: './UserRole.component.html',\r\n  styleUrls: ['./UserRole.component.css']\r\n})\r\nexport class UserRoleComponent implements OnInit {\r\n  userTypeList=[];\r\n  kycList=[];\r\n  load:boolean=false;\r\n  LANG=environment.english_translations;\r\n\r\n  constructor(private router:Router,private kycService:KYCService,private toast:ToastrManager) { }\r\n\r\n  ngOnInit() {\r\n      this.getInfoTypeList()\r\n  }\r\n\r\n  addInfoType(){\r\n    this.router.navigate([\"/dashboard/add-info-type\"])\r\n  }\r\n\r\n  getInfoTypeList(){\r\n    this.kycService.getUserTypeList().subscribe((res:any)=>{\r\n      if(res.status){\r\n        this.userTypeList=res.response.user_type;\r\n        this.getKYCList();\r\n      }\r\n    })\r\n  }\r\n\r\n  getKYCList(){\r\n    this.kycService.getKYCList().subscribe((res:any)=>{\r\n      if(res.status){\r\n        this.kycList=res.response;\r\n        setTimeout(() => {\r\n          this.loadSelect2();\r\n        }, 100);\r\n        \r\n      }\r\n    })\r\n  }\r\n\r\n  loadSelect2(){\r\n    \r\n    $('.js-example-basic-multiple').select2();\r\n      this.setDefaultValues()\r\n    \r\n    $(\".multi-id\").select2().on('change', (e) => {\r\n        this.handleMultiSelect(e.target.id)\r\n    });\r\n  }\r\n\r\n  setDefaultValues(){\r\n    this.userTypeList.map((data,i)=>{\r\n      const values=[]\r\n        data.value.map(item=>{\r\n          values.push(item.id+\",\"+item.title)\r\n        })\r\n      const id=`#${i}_multi-${data.id}`;\r\n      $(id).val(values);\r\n      $(id).trigger('change');\r\n      return\r\n\r\n      \r\n    })\r\n  }\r\n\r\n  handleMultiSelect(id){\r\n    const values=$(`#${id}`).val() || []  ;\r\n    const index=id.split(\"_\")[0];\r\n    this.userTypeList[index].value=[];\r\n    values.map(data=>{\r\n      const id=data.split(\",\")[0];\r\n      const title=data.split(\",\")[1];\r\n      const value_index=this.userTypeList[index].value.findIndex(item=>{return item.id == id});\r\n      if(value_index != -1){\r\n        // this.userTypeList[index].value.splice(value_index,1)\r\n      }else{\r\n        const post_data={ \"id\": id,\"title\": title}\r\n        this.userTypeList[index].value.push(post_data)\r\n      }\r\n    })\r\n    console.log(this.userTypeList)\r\n    return\r\n  }\r\n\r\n  updateUserRole(){\r\n    this.load=true;\r\n    const data={\r\n      \"user_type\":this.userTypeList\r\n    }\r\n    this.kycService.updateUserRole(data).subscribe((res:any)=>{\r\n      this.load=false;\r\n      if(res.status){\r\n        this.toast.successToastr(this.LANG.User_roles_updated_successfully);\r\n        return\r\n      }\r\n      this.toast.warningToastr(res.response.message)\r\n      \r\n    })\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule} from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoaderModule } from 'src/app/shared/loader/Loader.module';\r\nimport { UserRoleComponent } from './UserRole.component';\r\n\r\n\r\n\r\n\r\n \r\nconst ChildRoutes: Routes = [\r\n    {\r\n        path: 'user-role',\r\n        component:UserRoleComponent\r\n      },\r\n  ]\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(ChildRoutes),\r\n    FormsModule,\r\n    CommonModule,\r\n    LoaderModule\r\n  ],\r\n  declarations:[\r\n    UserRoleComponent\r\n  ]\r\n})\r\nexport class UserRoleModule { }\r\n"],"sourceRoot":""}