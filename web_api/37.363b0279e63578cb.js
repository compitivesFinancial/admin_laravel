"use strict";(self.webpackChunkice_web=self.webpackChunkice_web||[]).push([[37],{2037:(c,l,s)=>{s.r(l),s.d(l,{InvestorWalletModule:()=>C});var d=s(5702),u=s(7537),r=s(6019),p=s(4330),t=s(3556),g=s(8954),m=s(2387);function T(a,n){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t.TgZ(3,"a",6),t.NdJ("click",function(){const _=t.CHM(e).$implicit;return t.oxw(2).view(_)}),t._uU(4,"View Details"),t.qZA(),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.qZA(),t.BQk()}if(2&a){const e=n.$implicit;t.xp6(6),t.Oqu(e.tagline),t.xp6(2),t.Oqu(e.share_price),t.xp6(2),t.Oqu(e.min_investment),t.xp6(2),t.Oqu(e.max_investment),t.xp6(2),t.Oqu(e.total_valuation)}}function h(a,n){1&a&&(t.ynx(0),t.TgZ(1,"tr",7),t.TgZ(2,"td",8),t._uU(3,"Sorry, No data to display!"),t.qZA(),t.qZA(),t.BQk())}function q(a,n){if(1&a&&(t.TgZ(0,"table",3),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t._UZ(3,"th"),t.TgZ(4,"th"),t._uU(5,"Name"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Share Price"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Minimum Investment"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Maximum Investment"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Total Valuation"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,T,15,5,"ng-container",4),t.YNc(16,h,4,0,"ng-container",5),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.wallet_statement),t.xp6(1),t.Q6J("ngIf",0==e.wallet_statement.length&&e.data_loaded)}}function b(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"a",6),t.NdJ("click",function(){const _=t.CHM(e).$implicit;return t.oxw(2).viewInvestorData(_)}),t._uU(3,"View Details"),t.qZA(),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA()}if(2&a){const e=n.$implicit;t.xp6(5),t.Oqu(e.campaign_name),t.xp6(2),t.Oqu(t.xi3(8,3,e.invested_date,"mediumDate")),t.xp6(3),t.Oqu(e.invested_amount)}}function A(a,n){1&a&&(t.ynx(0),t.TgZ(1,"tr",7),t.TgZ(2,"td",8),t._uU(3,"Sorry, No data to display!"),t.qZA(),t.qZA(),t.BQk())}function v(a,n){if(1&a&&(t.TgZ(0,"table",9),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t._UZ(3,"th"),t.TgZ(4,"th"),t._uU(5,"Name"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Invested Date"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Invested Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"tbody"),t.YNc(11,b,11,6,"tr",4),t.YNc(12,A,4,0,"ng-container",5),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(11),t.Q6J("ngForOf",e.wallet_statement),t.xp6(1),t.Q6J("ngIf",0==e.wallet_statement.length&&e.data_loaded)}}function x(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),_=i.$implicit,Z=i.index;return t.oxw(2).payLoan(_,Z)}),t._uU(2,"Pay"),t.qZA(),t.qZA()}}function f(a,n){if(1&a&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.YNc(25,x,3,0,"div",13),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA(),t.TgZ(30,"td"),t._uU(31),t.qZA(),t.TgZ(32,"td"),t._uU(33),t.qZA(),t.qZA()),2&a){const e=n.$implicit;t.xp6(2),t.Oqu(t.xi3(3,16,e.due_date,"mediumDate")),t.xp6(3),t.Oqu(e.principle_expected),t.xp6(2),t.Oqu(e.interest_expected),t.xp6(2),t.Oqu(e.fees_expected),t.xp6(2),t.Oqu(e.total_expected),t.xp6(2),t.Oqu(e.principle_paid?e.principle_paid:"-"),t.xp6(2),t.Oqu(e.interest_paid?e.interest_paid:"-"),t.xp6(2),t.Oqu(e.fees_paid?e.fees_paid:"-"),t.xp6(2),t.Oqu(e.total_paid?e.total_paid:"-"),t.xp6(2),t.Oqu(e.paid_date?t.xi3(22,19,e.paid_date,"mediumDate"):"-"),t.xp6(3),t.hij(" ",e.principle_due?e.principle_due:"-"," "),t.xp6(1),t.Q6J("ngIf",+e.show_pay_btn),t.xp6(2),t.Oqu(e.interest_due?e.interest_due:"-"),t.xp6(2),t.Oqu(e.fees_due?e.fees_due:"-"),t.xp6(2),t.Oqu(e.total_due?e.total_due:"-"),t.xp6(2),t.Oqu("0"==e.status?"Pending":"Paid")}}function U(a,n){if(1&a&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t.TgZ(2,"table",12),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6,"Due Date"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Principle Expected"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Interest Expected"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Fees Expected"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Total Expected"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Principle Paid"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Interest Paid"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Fees Paid"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Total Paid"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Paid Date"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Principle Due"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Interest Due"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Fees Due"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Total Due"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Status"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"tbody"),t.YNc(36,f,34,22,"tr",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(36),t.Q6J("ngForOf",e.borrower_statement_details)}}function w(a,n){if(1&a&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA()),2&a){const e=n.$implicit;t.xp6(3),t.Oqu(t.xi3(4,4,e.date,"mediumDate")),t.xp6(3),t.Oqu(e.profit),t.xp6(2),t.Oqu(e.principle),t.xp6(2),t.Oqu(e.total)}}function I(a,n){1&a&&(t.TgZ(0,"tr",7),t.TgZ(1,"td",16),t._uU(2,"Sorry, No data to display!"),t.qZA(),t.qZA())}function y(a,n){if(1&a&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t.TgZ(2,"table",15),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t._UZ(5,"th"),t.TgZ(6,"th"),t._uU(7,"Date"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Profit"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Priciple"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Total"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,w,11,7,"tr",4),t.YNc(16,I,3,0,"tr",13),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.investor_statement_details),t.xp6(1),t.Q6J("ngIf",e.data_loaded_investor&&0==e.investor_statement_details.length)}}const O=[{path:"my-profile/operations",component:(()=>{class a{constructor(e,o){this.statmentsService=e,this.toast=o,this.wallet_statement=[],this.subscriptions=[],this.user_data={},this.data_loaded=!1,this.borrower_statement_details=[],this.investor_statement_details=[],this.data_loaded_investor=!1,this.data_loaded_borrower=!1;const i=btoa(btoa("user_info_web"));null!=localStorage.getItem(i)&&(this.user_data=JSON.parse(atob(atob(localStorage.getItem(i)||"{}"))))}ngOnInit(){2!=this.user_data.role_type?this.getBorrowersWallet():this.getInvestorWallet()}getInvestorWallet(){this.subscriptions.push(this.statmentsService.getInvestorWallet({user_id:this.user_data.id}).subscribe(o=>{this.wallet_statement=o.response,this.data_loaded=!0}))}getBorrowersWallet(){this.subscriptions.push(this.statmentsService.getBorrowersWallet({user_id:this.user_data.id}).subscribe(o=>{this.wallet_statement=o.response,this.data_loaded=!0}))}payLoan(e,o){this.subscriptions.push(this.statmentsService.payLoan({user_id:this.user_data.id,id:e.id}).subscribe(_=>{if(_.status)return this.toast.success(_.response.message),this.borrower_statement_details[o].show_pay_btn=!1,this.borrower_statement_details[o].principle_due=null,void(this.borrower_statement_details[o+1].show_pay_btn=!!this.borrower_statement_details[o+1]);this.toast.warning(_.response.message)}))}view(e){this.borrower_statement_details=[],this.borrower_statement_details=e.borrower_statement,this.data_loaded_borrower=!0;for(let o=0;o<this.borrower_statement_details.length;o++)if(+this.borrower_statement_details[o].principle_due>0){this.borrower_statement_details[o].show_pay_btn=!0;break}this.data_table&&this.data_table.destroy(),setTimeout(()=>{this.data_table=$("#borrowers_statement").DataTable({ordering:!1,responsive:!0}),$("html, body").animate({scrollTop:$("#borrowers_statement").position().top+100})},100)}viewInvestorData(e){this.investor_statement_details=[],this.investor_statement_details=e.investor_statement,this.data_loaded_investor=!0,setTimeout(()=>{$("html, body").animate({scrollTop:$("#investors_statement").position().top+100})},100)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(g.k),t.Y36(m._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-investor-wallet"]],decls:4,vars:4,consts:[["id","borrowers","class","table table-hover table-striped table-bordered",4,"ngIf"],["id","borrowers","class","display nowrap table table-hover table-striped table-bordered",4,"ngIf"],["class","tab-background col-md-12",4,"ngIf"],["id","borrowers",1,"table","table-hover","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"skip",3,"click"],[1,"text-center"],["colspan","4"],["id","borrowers",1,"display","nowrap","table","table-hover","table-striped","table-bordered"],[1,"tab-background","col-md-12"],[1,"table-responsive"],["id","borrowers_statement",1,"display","nowrap","table","table-hover","table-striped","table-bordered"],["class","text-center",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["id","investors_statement",1,"display","nowrap","table","table-hover","table-striped","table-bordered"],["colspan","5"]],template:function(e,o){1&e&&(t.YNc(0,q,17,2,"table",0),t.YNc(1,v,13,2,"table",1),t.YNc(2,U,37,1,"div",2),t.YNc(3,y,17,2,"div",2)),2&e&&(t.Q6J("ngIf",3==o.user_data.role_type),t.xp6(1),t.Q6J("ngIf",2==o.user_data.role_type),t.xp6(1),t.Q6J("ngIf",o.data_loaded_borrower&&3==o.user_data.role_type),t.xp6(1),t.Q6J("ngIf",o.data_loaded_investor&&2==o.user_data.role_type))},directives:[r.O5,r.sg],pipes:[r.uU],styles:["a.skip[_ngcontent-%COMP%]{color:#00e;text-decoration:underline;cursor:pointer}#borrowers[_ngcontent-%COMP%]{margin-top:150px}"]}),a})()}];let C=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[d.Bz.forChild(O),u.u5,r.ez,p.q]]}),a})()},4330:(c,l,s)=>{s.d(l,{q:()=>u});var d=s(3556);let u=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[[]]}),r})()}}]);