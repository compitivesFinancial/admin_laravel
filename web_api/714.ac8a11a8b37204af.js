"use strict";(self.webpackChunkice_web=self.webpackChunkice_web||[]).push([[714],{6714:(l,d,s)=>{s.r(d),s.d(d,{StatementsModule:()=>T});var p=s(5702),c=s(7537),r=s(6019),_=s(4330),t=s(3556),Z=s(8954),m=s(2387);function g(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),u=o.$implicit,q=o.index;return t.oxw().payLoan(u,q)}),t._uU(2,"Pay"),t.qZA(),t.qZA()}}function h(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.YNc(25,g,3,0,"div",4),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA(),t.TgZ(30,"td"),t._uU(31),t.qZA(),t.TgZ(32,"td"),t._uU(33),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(t.xi3(3,16,e.due_date,"mediumDate")),t.xp6(3),t.Oqu(e.principle_expected),t.xp6(2),t.Oqu(e.interest_expected),t.xp6(2),t.Oqu(e.fees_expected),t.xp6(2),t.Oqu(e.total_expected),t.xp6(2),t.Oqu(e.principle_paid?e.principle_paid:"-"),t.xp6(2),t.Oqu(e.interest_paid?e.interest_paid:"-"),t.xp6(2),t.Oqu(e.fees_paid?e.fees_paid:"-"),t.xp6(2),t.Oqu(e.total_paid?e.total_paid:"-"),t.xp6(2),t.Oqu(e.paid_date?t.xi3(22,19,e.paid_date,"mediumDate"):"-"),t.xp6(3),t.hij(" ",e.principle_due?e.principle_due:"-"," "),t.xp6(1),t.Q6J("ngIf",+e.show_pay_btn),t.xp6(2),t.Oqu(e.interest_due?e.interest_due:"-"),t.xp6(2),t.Oqu(e.fees_due?e.fees_due:"-"),t.xp6(2),t.Oqu(e.total_due?e.total_due:"-"),t.xp6(2),t.Oqu("0"==e.status?"Pending":"Paid")}}const b=[{path:"statements",component:(()=>{class n{constructor(e,a){this.statmentsService=e,this.toast=a,this.borrower_statement=[],this.subscriptions=[],this.user_data={};const o=btoa(btoa("user_info_web"));null!=localStorage.getItem(o)&&(this.user_data=JSON.parse(atob(atob(localStorage.getItem(o)||"{}"))))}ngOnInit(){this.getStatements()}getStatements(){this.subscriptions.push(this.statmentsService.getStatements({user_id:this.user_data.id}).subscribe(a=>{this.borrower_statement=a.response;for(let o=0;o<this.borrower_statement.length;o++)if(+this.borrower_statement[o].principle_due>0){this.borrower_statement[o].show_pay_btn=!0;break}setTimeout(()=>{$("#borrowers").DataTable({ordering:!1,responsive:!0})},100)}))}payLoan(e,a){this.subscriptions.push(this.statmentsService.payLoan({user_id:this.user_data.id,id:e.id}).subscribe(u=>{if(u.status)return this.toast.success(u.response.message),this.borrower_statement[a].show_pay_btn=!1,this.borrower_statement[a].principle_due=null,void(this.borrower_statement[a+1].show_pay_btn=!!this.borrower_statement[a+1]);this.toast.warning(u.response.message)}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Z.k),t.Y36(m._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-statements"]],decls:37,vars:1,consts:[[1,"tab-background","col-md-12"],[1,"table-responsive"],["id","borrowers",1,"display","nowrap","table","table-hover","table-striped","table-bordered"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"text-center"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6,"Due Date"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Principle Expected"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Interest Expected"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Fees Expected"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Total Expected"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Principle Paid"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Interest Paid"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Fees Paid"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Total Paid"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Paid Date"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Principle Due"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Interest Due"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Fees Due"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Total Due"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Status"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"tbody"),t.YNc(36,h,34,22,"tr",3),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(36),t.Q6J("ngForOf",a.borrower_statement))},directives:[r.sg,r.O5],pipes:[r.uU],styles:[".tab-background[_ngcontent-%COMP%]{padding:50px;background-color:#fff;margin-bottom:50px}.btn.btn-primary[_ngcontent-%COMP%], .btn.btn-primary[_ngcontent-%COMP%]:active{border:none;background:none;color:#160034;text-decoration:underline}"]}),n})()}];let T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(b),c.u5,r.ez,_.q]]}),n})()},4330:(l,d,s)=>{s.d(d,{q:()=>c});var p=s(3556);let c=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[[]]}),r})()}}]);