"use strict";(self.webpackChunkice_web=self.webpackChunkice_web||[]).push([[213],{9213:(c,p,o)=>{o.r(p),o.d(p,{RegistrationModule:()=>I});var g=o(5702),d=o(7537),l=o(6019),_=o(8260),e=o(3556),m=o(2387),f=o(6570),b=o(5117),w=o(2702),Z=o(821);function C(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"This Field is required"),e.qZA())}function y(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"This field is required"),e.qZA())}function T(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"Enter Valid Email"),e.qZA())}function A(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"This field required"),e.qZA())}function M(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"Enter Valid Mobile Number (Ex: 0551234567 or 551235678)"),e.qZA())}function v(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"Enter Valid Mobile Number "),e.qZA())}function q(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"This field is required"),e.qZA())}function N(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"span",50),e.BQk()),2&n){const t=a.$implicit,r=e.oxw(2);e.xp6(1),e.ekj("active",r.weakness>=t)}}function O(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.TgZ(2,"p",46),e._uU(3,"Password Must Contain"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",47),e.TgZ(7,"div",48),e.TgZ(8,"p"),e._uU(9,"- At Least Character"),e.qZA(),e.TgZ(10,"p"),e._uU(11,"- A capital letter"),e.qZA(),e.TgZ(12,"p"),e._uU(13,"- A_small_lette"),e.qZA(),e.TgZ(14,"p"),e._uU(15,"- A_number"),e.qZA(),e.TgZ(16,"p"),e._uU(17,"- A_special_character"),e.qZA(),e.qZA(),e.TgZ(18,"p"),e.YNc(19,N,2,2,"ng-container",49),e.qZA(),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.LANG.Weak),e.xp6(3),e.ekj("text-danger",t.registration_error.password_length)("text-success",!t.registration_error.password_length),e.xp6(2),e.ekj("text-danger",t.registration_error.password_upper_case)("text-success",!t.registration_error.password_upper_case),e.xp6(2),e.ekj("text-danger",t.registration_error.password_lower_case)("text-success",!t.registration_error.password_lower_case),e.xp6(2),e.ekj("text-danger",t.registration_error.password_number)("text-success",!t.registration_error.password_number),e.xp6(2),e.ekj("text-danger",t.registration_error.password_special)("text-success",!t.registration_error.password_special),e.xp6(3),e.Q6J("ngForOf",t.number)}}function P(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"This field is required"),e.qZA())}function k(n,a){1&n&&(e.TgZ(0,"span",44),e._uU(1,"Password Does not match"),e.qZA())}function U(n,a){1&n&&(e.ynx(0),e._UZ(1,"loader"),e.BQk())}function R(n,a){}let x=(()=>{class n{constructor(t,r,i,s,E,Q,G){this.toast=t,this.router=r,this.route=i,this.loginService=s,this.shared=E,this.error=Q,this.fb=G,this.err=!1,this.load=!1,this.registration_error={},this.first_name="",this.user_name="",this.last_name="",this.email="",this.password="",this.confirm_password="",this.mobile_number="",this.country_code="+966",this.role_type="3",this.subscriptions=[],this.terms=!1,this.number=[1,2,3,4,5,6],this.weakness=0,this.registration_type={registration_type:"2"},this.LANG="",this.email_disable=!1,this.subscriptions.push(this.shared.languageChange.subscribe(u=>{this.changeLanguage()})),this.changeLanguage();const h=this.router.getCurrentNavigation().extras.state;h&&(this.email=h.email,this.email_disable=!0),this.subscriptions.push(this.route.queryParams.subscribe(u=>{u.type&&(this.role_type=atob(atob(u.type)))}))}ngOnInit(){this.registrationForm=this.fb.group({reportInjury:[this.LANG.Individual,[d.kI.required]]}),console.log(this.role_type),this.route.queryParams.subscribe(t=>{this.orderby=t.type})}changeLanguage(){this.LANG="true"==localStorage.getItem("arabic")&&null!=localStorage.getItem("arabic")?_.N.arabic_translations:_.N.english_translations}register(){if(!this.load&&(this.err=!1,this.resetError(),this.registerErrorHandler(),!this.err))return this.terms?(this.load=!0,void this.registerUser()):void this.toast.warning("Please agree to the terms & conditions and privacy policy.")}resetError(){this.registration_error={first_name:!1,user_name:!1,last_name:!1,email_id:!1,email_id_valid:!1,mobile_number:!1,mobile_number_valid:!1,password:!1,password_valid:!1,confirm_password:!1,password_match:!1,confirm_password_valid:!1,registration_type:!1}}registerUser(){const t={country_code:this.country_code,mobile_number:this.mobile_number,email:this.email,username:this.user_name,name:`${this.first_name}`,password:this.loginService.encryptPassword(this.password),role_type:this.role_type,registration_type:this.registration_type.registration_type};this.subscriptions.push(this.loginService.register(t).subscribe(r=>{var i;if(this.load=!1,r.status)return localStorage.setItem("logged_in",btoa("1")),localStorage.setItem("token",null===(i=null==r?void 0:r.response)||void 0===i?void 0:i.token),localStorage.setItem(btoa(btoa("user_info_web")),btoa(btoa(JSON.stringify(r.response)))),this.shared.changeUserStatus(!0),this.shared.changeUserData(r.response),this.toast.success("Registration Successfull! Welcome "+r.response.name,""),void this.router.navigate(["/add-kyc"]);this.toast.warning(r.response.message,"")},r=>{this.load=!1;const i=this.error.getError(r);"Gateway timeout"!=i&&this.toast.error(i,"Error")}))}onItemchange(t){this.valueonChange=t.target.value,console.log(this.valueonChange)}registerErrorHandler(){(""==this.first_name||null==this.first_name)&&(this.registration_error.first_name=!0,this.err=!0),(""==this.user_name||null==this.user_name)&&(this.registration_error.user_name=!0,this.err=!0),this.mobileErrorHandler(),(""==this.email||null==this.email)&&(this.registration_error.email_id=!0,this.err=!0),!this.registration_error.email_id&&this.checkEmail(this.email)&&(this.registration_error.email_id_valid=!0,this.err=!0),(""==this.registration_type||null==this.registration_type)&&(this.registration_error.registration_type=!0,this.err=!0),this.passwordErrorHandler()}mobileErrorHandler(){if((""==this.mobile_number||null==this.mobile_number)&&(this.registration_error.mobile_number=!0,this.err=!0),"+966"==this.country_code){const t=/^([0]{1}[5]{1}[0-9]*)$/,r=/^([5]{1}[0-9]*)$/;return!this.registration_error.mobile_number&&!t.test(this.mobile_number)&&!r.test(this.mobile_number)&&(this.registration_error.mobile_number_valid=!0,this.err=!0),!this.registration_error.mobile_number&&t.test(this.mobile_number)&&10!=this.mobile_number.length&&(this.registration_error.mobile_number_valid=!0,this.err=!0),void(!this.registration_error.mobile_number&&r.test(this.mobile_number)&&9!=this.mobile_number.length&&(this.registration_error.mobile_number_valid=!0,this.err=!0))}"+91"!=this.country_code?0==this.registration_error.mobile_number&&(this.mobile_number.length<8||this.mobile_number.length>10)&&(this.registration_error.mobile_number_valid=!0,this.err=!0):0==this.registration_error.mobile_number&&10!=this.mobile_number.length&&(this.registration_error.mobile_number_valid=!0,this.err=!0)}changeCountryCode(){this.registration_error.mobile_number_valid=!1}passwordErrorHandler(){(""==this.password||null==this.password)&&(this.registration_error.password=!0,this.err=!0),this.checkPasswordValidation(),(""==this.confirm_password||null==this.confirm_password)&&(this.registration_error.confirm_password=!0,this.err=!0),!this.registration_error.password&&""==this.confirm_password&&(this.registration_error.confirm_password=!0,this.err=!0),this.password!=this.confirm_password&&!this.registration_error.confirm_password&&(this.registration_error.password_match=!0,this.err=!0)}checkEmail(t){return!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}checkPassword(t){if(t.length<8)return!0}checkPasswordValidation(){this.registration_error.password_lower_case=!this.password.match(/[a-z]/g),this.registration_error.password_upper_case=!this.password.match(/[A-Z]/g),this.registration_error.password_number=!this.password.match(/[0-9]/g),this.registration_error.password_length=!(this.password.length>=8),this.registration_error.password_special=!/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(this.password),this.registration_error.password_valid=!0,this.password.length>7&&this.password.length<12&&!this.registration_error.password_special&&!this.registration_error.password_number&&!this.registration_error.password_upper_case&&!this.registration_error.password_lower_case&&(this.weakness=4,this.registration_error.password_valid=!1),this.password.length>12&&!this.registration_error.password_special&&!this.registration_error.password_number&&!this.registration_error.password_upper_case&&!this.registration_error.password_lower_case&&(this.weakness=6),this.password.length>2&&this.password.length<4&&(this.weakness=2),this.password.length>0&&this.password.length<2&&(this.weakness=1),0==this.password.length&&(this.weakness=0)}passwordVisibility(t,r){var i=document.getElementById(t),s=document.getElementById(r);console.log(t),"password"==i.type?(i.type="text",s.classList.remove("fa-eye"),s.classList.add("fa-eye-slash")):(i.type="password",s.classList.remove("fa-eye-slash"),s.classList.add("fa-eye"))}onlyNumbers(t){var r=t.which?t.which:t.keyCode;if((r<48||r>57)&&13!==r||46==r)return t.preventDefault(),!1}termsCondition(){2==this.role_type&&this.loginService.termsandCondition().subscribe(t=>{this.termsandconditionborower=t.response}),3==this.role_type&&this.loginService.termsandConditionBorrower().subscribe(t=>{this.termsandconditionborower=t.response})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m._W),e.Y36(g.F0),e.Y36(g.gz),e.Y36(f.r),e.Y36(b.F),e.Y36(w.r),e.Y36(d.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-registration"]],decls:77,vars:41,consts:[[1,"login-pad"],[1,"form-sec","step2-1"],[1,"form-group"],["type","text","name","first_name",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["class","error",4,"ngIf"],["type","text","name","email",1,"form-control",3,"placeholder","ngModel","disabled","ngModelChange"],[1,"country-wrapper","position-relative"],[1,"country-code"],["name","country_code",3,"ngModel","ngModelChange","change"],["value","+966"],["value","+91"],["type","text","name","mobile_number",1,"form-control",3,"placeholder","ngModel","ngModelChange","keypress"],["type","text","name","user_name",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","password","id","password","name","password",1,"form-control",3,"placeholder","ngModel","input","ngModelChange"],[1,"show-pwd",3,"click"],["id","eye1","aria-hidden","true",1,"fa","fa-eye"],[4,"ngIf"],["type","password","id","confirm_password","name","confirm_password",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["id","eye2","aria-hidden","true",1,"fa","fa-eye"],["name","registration_type",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","1"],["value","2"],[1,"form-group","checkbox-wrapper"],["type","checkbox","id","terms","name","terms",3,"ngModel","ngModelChange"],[3,"click"],["id","termsModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],[1,"submit-button","text-center"],[1,"btn",3,"disabled","click"],[4,"ngIf","ngIfElse"],["no_loader",""],[1,"form-last"],["src","assets/images/tick.svg"],[1,"form-footer"],[1,"error"],[1,"password-detail"],[1,"pwd-txt-left"],[1,"password-detail","password-gap"],[1,"pwd-val"],[4,"ngFor","ngForOf"],[1,"pass-weak"]],template:function(t,r){if(1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(s){return r.first_name=s}),e.qZA(),e.YNc(4,C,2,0,"span",4),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"input",5),e.NdJ("ngModelChange",function(s){return r.email=s}),e.qZA(),e.YNc(7,y,2,0,"span",4),e.YNc(8,T,2,0,"span",4),e.qZA(),e.TgZ(9,"div",2),e.TgZ(10,"div",6),e.TgZ(11,"div",7),e.TgZ(12,"select",8),e.NdJ("ngModelChange",function(s){return r.country_code=s})("change",function(){return r.changeCountryCode()}),e.TgZ(13,"option",9),e._uU(14,"+966"),e.qZA(),e.TgZ(15,"option",10),e._uU(16,"+91"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"input",11),e.NdJ("ngModelChange",function(s){return r.mobile_number=s})("keypress",function(s){return r.onlyNumbers(s)}),e.qZA(),e.qZA(),e.YNc(18,A,2,0,"span",4),e.YNc(19,M,2,0,"span",4),e.YNc(20,v,2,0,"span",4),e.qZA(),e.TgZ(21,"div",2),e.TgZ(22,"input",12),e.NdJ("ngModelChange",function(s){return r.user_name=s}),e.qZA(),e.YNc(23,q,2,0,"span",4),e.qZA(),e.TgZ(24,"div",2),e.TgZ(25,"input",13),e.NdJ("input",function(){return r.checkPasswordValidation()})("ngModelChange",function(s){return r.password=s}),e.qZA(),e.TgZ(26,"a",14),e.NdJ("click",function(){return r.passwordVisibility("password","eye1")}),e._UZ(27,"i",15),e.qZA(),e.qZA(),e.YNc(28,O,20,22,"ng-container",16),e.TgZ(29,"div",2),e.TgZ(30,"input",17),e.NdJ("ngModelChange",function(s){return r.confirm_password=s}),e.qZA(),e.TgZ(31,"a",14),e.NdJ("click",function(){return r.passwordVisibility("confirm_password","eye2")}),e._UZ(32,"i",18),e.qZA(),e.YNc(33,P,2,0,"span",4),e.YNc(34,k,2,0,"span",4),e.qZA(),e.TgZ(35,"select",19),e.NdJ("ngModelChange",function(s){return r.registration_type=s}),e.TgZ(36,"option",20),e._uU(37),e.qZA(),e.TgZ(38,"option",21),e._uU(39),e.qZA(),e.TgZ(40,"option",22),e._uU(41),e.qZA(),e.qZA(),e.TgZ(42,"div",23),e.TgZ(43,"input",24),e.NdJ("ngModelChange",function(s){return r.terms=s}),e.qZA(),e.TgZ(44,"label",25),e.NdJ("click",function(){return r.termsCondition()}),e._uU(45),e.TgZ(46,"b"),e._uU(47),e.qZA(),e.qZA(),e.TgZ(48,"div",26),e.TgZ(49,"div",27),e.TgZ(50,"div",28),e.TgZ(51,"div",29),e.TgZ(52,"h5",30),e._uU(53,"Terms And Condition"),e.qZA(),e.TgZ(54,"button",31),e.TgZ(55,"span",32),e._uU(56,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",33),e._UZ(58,"p",34),e.qZA(),e.TgZ(59,"div",35),e.TgZ(60,"button",36),e._uU(61,"Close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",37),e.TgZ(63,"button",38),e.NdJ("click",function(){return r.register()}),e._uU(64),e.YNc(65,U,2,0,"ng-container",39),e.YNc(66,R,0,0,"ng-template",null,40,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",41),e._UZ(69,"img",42),e.TgZ(70,"p"),e.TgZ(71,"b"),e._uU(72),e.qZA(),e._uU(73),e.qZA(),e.qZA(),e.TgZ(74,"div",43),e.TgZ(75,"p"),e._uU(76),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(67);e.xp6(3),e.s9C("placeholder",r.LANG.Full_Name),e.Q6J("ngModel",r.first_name),e.xp6(1),e.Q6J("ngIf",r.registration_error.first_name),e.xp6(2),e.s9C("placeholder",r.LANG.Email),e.Q6J("ngModel",r.email)("disabled",r.email_disable),e.xp6(1),e.Q6J("ngIf",r.registration_error.email_id),e.xp6(1),e.Q6J("ngIf",r.registration_error.email_id_valid),e.xp6(4),e.Q6J("ngModel",r.country_code),e.xp6(5),e.s9C("placeholder",r.LANG.Mobile_Number),e.Q6J("ngModel",r.mobile_number),e.xp6(1),e.Q6J("ngIf",r.registration_error.mobile_number),e.xp6(1),e.Q6J("ngIf",r.registration_error.mobile_number_valid&&"+966"==r.country_code),e.xp6(1),e.Q6J("ngIf",r.registration_error.mobile_number_valid&&"+966"!=r.country_code),e.xp6(2),e.s9C("placeholder",r.LANG.User_Name),e.Q6J("ngModel",r.user_name),e.xp6(1),e.Q6J("ngIf",r.registration_error.user_name),e.xp6(2),e.s9C("placeholder",r.LANG.Password),e.Q6J("ngModel",r.password),e.xp6(3),e.Q6J("ngIf",r.registration_error.password||r.password),e.xp6(2),e.s9C("placeholder",r.LANG.Confirm_Password),e.Q6J("ngModel",r.confirm_password),e.xp6(3),e.Q6J("ngIf",r.registration_error.confirm_password),e.xp6(1),e.Q6J("ngIf",r.registration_error.password_match),e.xp6(1),e.Q6J("ngModel",r.registration_type),e.xp6(2),e.Oqu(r.LANG.select_registration_type),e.xp6(2),e.Oqu(r.LANG.Individual),e.xp6(2),e.Oqu(r.LANG.Corporate),e.xp6(2),e.Q6J("ngModel",r.terms),e.xp6(2),e.hij(" ",r.LANG.I_accept_all," "),e.xp6(2),e.Oqu(r.LANG.terms_conditions),e.xp6(11),e.Q6J("innerHTML",null==r.termsandconditionborower?null:r.termsandconditionborower.description,e.oJD),e.xp6(5),e.ekj("loading",r.load),e.Q6J("disabled",!r.terms),e.xp6(1),e.hij(" ",r.LANG.CREATE_ACCOUNT," "),e.xp6(1),e.Q6J("ngIf",r.load)("ngIfElse",i),e.xp6(7),e.Oqu(r.LANG.bit),e.xp6(1),e.hij(" ",r.LANG.Secured_payment," "),e.xp6(3),e.Oqu(r.LANG.Copyrights)}},directives:[d.Fj,d.JJ,d.On,l.O5,d.EJ,d.YN,d.Kr,d.Wl,l.sg,Z.R],styles:[".country-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:25%;width:75%}.country-code[_ngcontent-%COMP%]{position:absolute;width:20%}.country-code[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .country-code[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin:0;width:100%}.login-pad[_ngcontent-%COMP%]{background-color:#fff}.change-type[_ngcontent-%COMP%]{position:fixed}.spacing[_ngcontent-%COMP%]{margin-bottom:10px}#yes[_ngcontent-%COMP%]{position:fixed}#no[_ngcontent-%COMP%]{position:fixed}.country-code[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:0}.form-sec[_ngcontent-%COMP%]{padding:50px}.form-tab[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:30px}.password-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{width:100%}.pass-weak[_ngcontent-%COMP%]{margin:0 2px}.pwd-val[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.pass-weak.active[_ngcontent-%COMP%]:nth-child(3), .pass-weak.active[_ngcontent-%COMP%]:nth-child(4){background:#ffdd00}.pass-weak.active[_ngcontent-%COMP%]:nth-child(5), .pass-weak.active[_ngcontent-%COMP%]:nth-child(6){background:#00C48A}input[_ngcontent-%COMP%]:disabled{background:#ffffff}.show-pwd[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.show-pwd[_ngcontent-%COMP%]{cursor:pointer}.pwd-txt-left[_ngcontent-%COMP%]{text-align:left}@media only screen and (max-width:576px){.form-sec[_ngcontent-%COMP%]{padding:20px}.country-code[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:58px}}"]}),n})();var J=o(4330);const L=[{path:"register",component:x}];let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(L),d.u5,l.ez,J.q,d.UX]]}),n})()},4330:(c,p,o)=>{o.d(p,{q:()=>d});var g=o(3556);let d=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=g.oAB({type:l}),l.\u0275inj=g.cJS({imports:[[]]}),l})()},821:(c,p,o)=>{o.d(p,{R:()=>d});var g=o(3556);let d=(()=>{class l{ngOnInit(){}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=g.Xpm({type:l,selectors:[["loader"]],decls:1,vars:0,consts:[[1,"lds-dual-ring"]],template:function(e,m){1&e&&g._UZ(0,"div",0)},styles:['.lds-dual-ring[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:35px;height:35px;border-radius:50%;border:4px solid #fff;border-color:#fff transparent #fff transparent;animation:lds-dual-ring 1.2s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),l})()}}]);