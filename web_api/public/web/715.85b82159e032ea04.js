"use strict";(self.webpackChunkice_web=self.webpackChunkice_web||[]).push([[715],{6795:(ve,W,k)=>{var U=k(3002);function M(t,e,r,n){return new(r||(r=Promise))(function(o,i){function u(c){try{l(n.next(c))}catch(d){i(d)}}function s(c){try{l(n.throw(c))}catch(d){i(d)}}function l(c){c.done?o(c.value):function(o){return o instanceof r?o:new r(function(i){i(o)})}(c.value).then(u,s)}l((n=n.apply(t,e||[])).next())})}function q(t,e){var n,a,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=2&l[0]?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){r=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(6===l[0]&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],a=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function Ce(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<r;e++)for(var o=arguments[e],i=0,u=o.length;i<u;i++,a++)n[a]=o[i];return n}var nt=k(1544),ke="firebasestorage.googleapis.com",R=function(){function t(e,r){this.code_=xe(e),this.message_="Firebase Storage: "+r,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(e){return xe(e)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}();function xe(t){return"storage/"+t}function me(){return new R("unknown","An unknown error occurred, please check the error payload for server response.")}function Ie(){return new R("canceled","User canceled the upload/download.")}function Le(){return new R("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _t(){return new R("no-download-url","The given file does not have any download URLs.")}function De(t,e,r){return new R("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+r)}function je(){return new R("app-deleted","The Firebase app was deleted.")}function te(t,e){return new R("invalid-format","String does not match format '"+t+"': "+e)}function ie(t){throw new R("internal-error","Internal error: "+t)}var b={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function gt(t){switch(t){case b.RAW:case b.BASE64:case b.BASE64URL:case b.DATA_URL:return;default:throw"Expected one of the event types: ["+b.RAW+", "+b.BASE64+", "+b.BASE64URL+", "+b.DATA_URL+"]."}}var ge=function(e,r){this.data=e,this.contentType=r||null};function Be(t,e){switch(t){case b.RAW:return new ge(Me(e));case b.BASE64:case b.BASE64URL:return new ge(qe(t,e));case b.DATA_URL:return new ge(function(t){var e=new Fe(t);return e.base64?qe(b.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(r){throw te(b.DATA_URL,"Malformed data URL.")}return Me(e)}(e.rest)}(e),function(t){return new Fe(t).contentType}(e))}throw me()}function Me(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|63&n);else if(55296==(64512&n))if(r<t.length-1&&56320==(64512&t.charCodeAt(r+1))){var o=n,i=t.charCodeAt(++r);e.push(240|(n=65536|(1023&o)<<10|1023&i)>>18,128|n>>12&63,128|n>>6&63,128|63&n)}else e.push(239,191,189);else 56320==(64512&n)?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(e)}function qe(t,e){switch(t){case b.BASE64:var r=-1!==e.indexOf("-"),n=-1!==e.indexOf("_");if(r||n)throw te(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break;case b.BASE64URL:var o=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(o||i)throw te(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=atob(e)}catch(c){throw te(t,"Invalid character found")}for(var s=new Uint8Array(u.length),l=0;l<u.length;l++)s[l]=u.charCodeAt(l);return s}var Fe=function(e){this.base64=!1,this.contentType=null;var r=e.match(/^data:([^,]+)?,/);if(null===r)throw te(b.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=r[1]||null;null!=n&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)},be={STATE_CHANGED:"state_changed"},S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ye(t){switch(t){case"running":case"pausing":case"canceling":return S.RUNNING;case"paused":return S.PAUSED;case"success":return S.SUCCESS;case"canceled":return S.CANCELED;default:return S.ERROR}}function I(t){return null!=t}function F(t){return void 0!==t}function Ge(t){return"function"==typeof t}function re(t){return"object"==typeof t}function Et(t){return re(t)&&null!==t}function Y(t){return"string"==typeof t||t instanceof String}function Tt(t){return He(t)&&Number.isInteger(t)}function He(t){return"number"==typeof t||t instanceof Number}function ze(t){return se()&&t instanceof Blob}function se(){return"undefined"!=typeof Blob}var G=(()=>{return(t=G||(G={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",G;var t})(),Ot=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=G.NO_ERROR,this.sendPromise_=new Promise(function(r){e.xhr_.addEventListener("abort",function(){e.errorCode_=G.ABORT,r(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=G.NETWORK_ERROR,r(e)}),e.xhr_.addEventListener("load",function(){r(e)})})}return t.prototype.send=function(e,r,n,a){if(this.sent_)throw ie("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),I(a))for(var o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return I(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ie("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ie("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ie("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){I(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){I(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},t}(),Ut=function(){function t(){}return t.prototype.createXhrIo=function(){return new Ot},t}();function At(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=At();if(void 0!==r){for(var n=new r,a=0;a<t.length;a++)n.append(t[a]);return n.getBlob()}if(se())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var Re=function(){function t(e,r){var n=0,a="";ze(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,r){if(ze(this.data_)){var a=function(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}(this.data_,e,r);return null===a?null:new t(a)}return new t(new Uint8Array(this.data_.buffer,e,r-e),!0)},t.getBlob=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(se()){var n=e.map(function(s){return s instanceof t?s.data_:s});return new t(Pt.apply(null,n))}var a=e.map(function(s){return Y(s)?Be(b.RAW,s).data:s.data_}),o=0;a.forEach(function(s){o+=s.byteLength});var i=new Uint8Array(o),u=0;return a.forEach(function(s){for(var l=0;l<s.length;l++)i[u++]=s[l]}),new t(i,!0)},t.prototype.uploadData=function(){return this.data_},t}(),N=function(){function t(e,r){this.bucket=e,this.path_=r}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var r;try{r=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===r.path)return r;throw function(t){return new R("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)},t.makeFromUrl=function(e){var r=null,n="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+n+"(/(.*))?$","i");function s(B){B.path_=decodeURIComponent(B.path)}for(var c=ke.replace(/[.]/g,"\\."),w=[{regex:i,indices:{bucket:1,path:3},postModify:function(B){"/"===B.path.charAt(B.path.length-1)&&(B.path_=B.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+c+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],O=0;O<w.length;O++){var C=w[O],z=C.regex.exec(e);if(z){var ae=z[C.indices.path];ae||(ae=""),r=new t(z[C.indices.bucket],ae),C.postModify(r);break}}if(null==r)throw function(t){return new R("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}();function we(t){var e;try{e=JSON.parse(t)}catch(r){return null}return function(t){return re(t)&&!Array.isArray(t)}(e)?e:null}function kt(t,e){var r=e.split("/").filter(function(n){return n.length>0}).join("/");return 0===t.length?r:t+"/"+r}function Xe(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function H(t){return"https://"+ke+"/v0"+t}function Ve(t){var e=encodeURIComponent,r="?";for(var n in t)t.hasOwnProperty(n)&&(r=r+(e(n)+"=")+e(t[n])+"&");return r.slice(0,-1)}function xt(t,e){return e}var T=function(e,r,n,a){this.server=e,this.local=r||e,this.writable=!!n,this.xform=a||xt},ue=null;function We(t,e,r){var n=we(e);return null===n?null:function(t,e,r){for(var n={type:"file"},a=r.length,o=0;o<a;o++){var i=r[o];n[i.local]=i.xform(n,e[i.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var o=new N(t.bucket,t.fullPath);return e.makeStorageReference(o)}})}(n,t),n}(t,n,r)}function Ee(t,e){for(var r={},n=e.length,a=0;a<n;a++){var o=e[a];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}function Mt(t){if(!re(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];if("customMetadata"===e){if(!re(r))throw"Expected object for 'customMetadata' mapping."}else if(Et(r))throw"Mapping for '"+e+"' cannot be an object."}}var le="maxResults",Se="pageToken",Ke="prefixes";function Ht(t){if(!re(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===le){if(!Tt(t[le])||t[le]<=0)throw"Expected maxResults to be a positive number.";if(t[le]>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if(e!==Se)throw"Unknown option: "+e;if(t[Se]&&!Y(t[Se]))throw"Expected pageToken to be string."}}var j=function(e,r,n,a){this.url=e,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function L(t){if(!t)throw me()}function ce(t,e){return function(n,a){var o=We(t,a,e);return L(null!==o),o}}function Z(t){return function(r,n){var a;return a=401===r.getStatus()?new R("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?function(t){return new R("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===r.getStatus()?function(t){return new R("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):n,a.setServerResponseProp(n.serverResponseProp()),a}}function fe(t){var e=Z(t);return function(n,a){var o=e(n,a);return 404===n.getStatus()&&(o=function(t){return new R("object-not-found","Object '"+t+"' does not exist.")}(t.path)),o.setServerResponseProp(a.serverResponseProp()),o}}function Ze(t,e,r){var a=H(e.fullServerUrl()),i=t.maxOperationRetryTime,u=new j(a,"GET",ce(t,r),i);return u.errorHandler=fe(e),u}function Vt(t,e,r,n,a){var o={};o.prefix=e.isRoot?"":e.path+"/",r&&r.length>0&&(o.delimiter=r),n&&(o.pageToken=n),a&&(o.maxResults=a);var u=H(e.bucketOnlyServerUrl()),l=t.maxOperationRetryTime,c=new j(u,"GET",function(t,e){return function(n,a){var o=function(t,e,r){var n=we(r);return null===n?null:function(t,e,r){var n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[Ke])for(var a=0,o=r[Ke];a<o.length;a++){var u=o[a].replace(/\/$/,""),s=t.makeStorageReference(new N(e,u));n.prefixes.push(s)}if(r.items)for(var l=0,c=r.items;l<c.length;l++)s=t.makeStorageReference(new N(e,c[l].name)),n.items.push(s);return n}(t,e,n)}(t,e,a);return L(null!==o),o}}(t,e.bucket),l);return c.urlParams=o,c.errorHandler=Z(e),c}function Wt(t,e,r){var a=H(e.fullServerUrl()),i=t.maxOperationRetryTime,u=new j(a,"GET",function(t,e){return function(n,a){var o=We(t,a,e);return L(null!==o),function(t,e){var r=we(e);if(null===r||!Y(r.downloadTokens))return null;var n=r.downloadTokens;if(0===n.length)return null;var a=encodeURIComponent;return n.split(",").map(function(u){var l=t.fullPath;return H("/b/"+a(t.bucket)+"/o/"+a(l))+Ve({alt:"media",token:u})})[0]}(o,a)}}(t,r),i);return u.errorHandler=fe(e),u}function Kt(t,e,r,n){var o=H(e.fullServerUrl()),u=Ee(r,n),l=t.maxOperationRetryTime,c=new j(o,"PATCH",ce(t,n),l);return c.headers={"Content-Type":"application/json; charset=utf-8"},c.body=u,c.errorHandler=fe(e),c}function Yt(t,e){var n=H(e.fullServerUrl()),u=new j(n,"DELETE",function(s,l){},t.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=fe(e),u}function Je(t,e,r){var n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),n}var he=function(e,r,n,a){this.current=e,this.total=r,this.finalized=!!n,this.metadata=a||null};function Te(t,e){var r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch(a){L(!1)}return L(!!r&&-1!==(e||["active"]).indexOf(r)),r}var tr=function(e,r,n){if(Ge(e)||I(r)||I(n))this.next=e,this.error=r||null,this.complete=n||null;else{var o=e;this.next=o.next||null,this.error=o.error||null,this.complete=o.complete||null}},rr=function(e,r,n,a,o,i){this.bytesTransferred=e,this.totalBytes=r,this.state=n,this.metadata=a,this.task=o,this.ref=i};function y(t,e,r){for(var n=e.length,a=e.length,o=0;o<e.length;o++)if(e[o].optional){n=o;break}if(!(n<=r.length&&r.length<=a))throw function(t,e,r,n){var a,o;return t===e?(a=t,o=1===t?"argument":"arguments"):(a="between "+t+" and "+e,o="arguments"),new R("invalid-argument-count","Invalid argument count in `"+r+"`: Expected "+a+" "+o+", received "+n+".")}(n,a,t,r.length);for(o=0;o<r.length;o++)try{e[o].validator(r[o])}catch(s){throw s instanceof Error?De(o,t,s.message):De(o,t,s)}}var V=function(e,r){var n=this;this.validator=function(a){n.optional&&!F(a)||e(a)},this.optional=!!r};function J(t,e){function r(a){if(!Y(a))throw"Expected string."}var n;return n=t?function(t,e){return function(r){t(r),e(r)}}(r,t):r,new V(n,e)}function ar(){return new V(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||se()&&e instanceof Blob))throw"Expected Blob or File."})}function Oe(t){return new V(Mt,t)}function or(t){return new V(Ht,t)}function $e(){return new V(function(e){if(!(He(e)&&e>=0))throw"Expected a number 0 or greater."})}function Ue(t,e){return new V(function(n){if(!(null===n||I(n)&&n instanceof Object))throw"Expected an Object.";null!=t&&t(n)},e)}function ne(t){return new V(function(r){if(null!==r&&!Ge(r))throw"Expected a Function."},t)}function Q(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var et=function(){function t(e,r,n,a,o,i){var u=this;void 0===i&&(i=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.service_=r,this.location_=n,this.blob_=o,this.metadata_=i,this.mappings_=a,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(s){u.request_=null,u.chunkMultiplier_=1,s.codeEquals("canceled")?(u.needToFetchStatus_=!0,u.completeTransitions_()):(u.error_=s,u.transition_("error"))},this.metadataErrorHandler_=function(s){u.request_=null,s.codeEquals("canceled")?u.completeTransitions_():(u.error_=s,u.transition_("error"))},this.promise_=new Promise(function(s,l){u.resolve_=s,u.reject_=l,u.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var e=this,r=this.transferred_;return function(n){return e.updateProgress_(r+n)}},t.prototype.shouldDoResumable_=function(e){return e.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(e){var r=this;this.service_.getAuthToken().then(function(n){switch(r.state_){case"running":e(n);break;case"canceling":r.transition_("canceled");break;case"pausing":r.transition_("paused")}})},t.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(r){var n=function(t,e,r,n,a){var o=e.bucketOnlyServerUrl(),i=Je(e,n,a),u={name:i.fullPath},s=H(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":n.size(),"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},d=Ee(i,r),p=new j(s,"POST",function(m){var _;Te(m);try{_=m.getResponseHeader("X-Goog-Upload-URL")}catch(A){L(!1)}return L(Y(_)),_},t.maxUploadRetryTime);return p.urlParams=u,p.headers=c,p.body=d,p.errorHandler=Z(e),p}(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),a=e.service_.makeRequest(n,r);e.request_=a,a.getPromise().then(function(o){e.request_=null,e.uploadUrl_=o,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},t.prototype.fetchStatus_=function(){var e=this,r=this.uploadUrl_;this.resolveToken_(function(n){var a=function(t,e,r,n){var s=new j(r,"POST",function(l){var c=Te(l,["active","final"]),d=null;try{d=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch(v){L(!1)}d||L(!1);var h=Number(d);return L(!isNaN(h)),new he(h,n.size(),"final"===c)},t.maxUploadRetryTime);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Z(e),s}(e.service_,e.location_,r,e.blob_),o=e.service_.makeRequest(a,n);e.request_=o,o.getPromise().then(function(i){i=i,e.request_=null,e.updateProgress_(i.current),e.needToFetchStatus_=!1,i.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},t.prototype.continueUpload_=function(){var e=this,r=262144*this.chunkMultiplier_,n=new he(this.transferred_,this.blob_.size()),a=this.uploadUrl_;this.resolveToken_(function(o){var i;try{i=function(t,e,r,n,a,o,i,u){var s=new he(0,0);if(i?(s.current=i.current,s.total=i.total):(s.current=0,s.total=n.size()),n.size()!==s.total)throw new R("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=s.total-s.current,c=l;a>0&&(c=Math.min(c,a));var d=s.current,p={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":s.current},m=n.slice(d,d+c);if(null===m)throw Le();var O=new j(r,"POST",function(C,z){var Ae,_e=Te(C,["active","final"]),ae=s.current+c,B=n.size();return Ae="final"===_e?ce(e,o)(C,z):null,new he(ae,B,"final"===_e,Ae)},e.maxUploadRetryTime);return O.headers=p,O.body=m.uploadData(),O.progressCallback=u||null,O.errorHandler=Z(t),O}(e.location_,e.service_,a,e.blob_,r,e.mappings_,n,e.makeProgressCallback_())}catch(s){return e.error_=s,void e.transition_("error")}var u=e.service_.makeRequest(i,o);e.request_=u,u.getPromise().then(function(s){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(s.current),s.finalized?(e.metadata_=s.metadata,e.transition_("success")):e.completeTransitions_()},e.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(r){var n=Ze(e.service_,e.location_,e.mappings_),a=e.service_.makeRequest(n,r);e.request_=a,a.getPromise().then(function(o){e.request_=null,e.metadata_=o,e.transition_("success")},e.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(r){var n=function(t,e,r,n,a){var o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var O="",C=0;C<2;C++)O+=Math.random().toString().slice(2);return O}();i["Content-Type"]="multipart/related; boundary="+s;var l=Je(e,n,a),c=Ee(l,r),v=Re.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",n,"\r\n--"+s+"--");if(null===v)throw Le();var p={name:l.fullPath},m=H(o),A=t.maxUploadRetryTime,w=new j(m,"POST",ce(t,r),A);return w.urlParams=p,w.headers=i,w.body=v.uploadData(),w.errorHandler=Z(e),w}(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),a=e.service_.makeRequest(n,r);e.request_=a,a.getPromise().then(function(o){e.request_=null,e.metadata_=o,e.updateProgress_(e.blob_.size()),e.transition_("success")},e.errorHandler_)})},t.prototype.updateProgress_=function(e){var r=this.transferred_;this.transferred_=e,this.transferred_!==r&&this.notifyObservers_()},t.prototype.transition_=function(e){if(this.state_!==e)switch(e){case"canceling":case"pausing":this.state_=e,null!==this.request_&&this.request_.cancel();break;case"running":var r="paused"===this.state_;this.state_=e,r&&(this.notifyObservers_(),this.start_());break;case"paused":case"error":case"success":this.state_=e,this.notifyObservers_();break;case"canceled":this.error_=Ie(),this.state_=e,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=ye(this.state_);return new rr(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(e,r,n,a){function o(){if(e!==be.STATE_CHANGED)throw"Expected one of the event types: ["+be.STATE_CHANGED+"]."}var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",u=ne(!0).validator,s=Ue(null,!0).validator;function l(_){try{return void u(_)}catch(w){}try{if(s(_),!(F(_.next)||F(_.error)||F(_.complete)))throw"";return}catch(w){throw i}}var c=[J(o),Ue(l,!0),ne(!0),ne(!0)];y("on",c,arguments);var d=this;function h(_){return function(w,O,C){null!==_&&y("on",_,arguments);var z=new tr(w,O,a);return d.addObserver_(z),function(){d.removeObserver_(z)}}}function v(_){if(null===_)throw i;l(_)}var p=[Ue(v),ne(!0),ne(!0)],m=!(F(r)||F(n)||F(a));return m?h(p):h(null)(r,n,a)},t.prototype.then=function(e,r){return this.promise_.then(e,r)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},t.prototype.removeObserver_=function(e){var r=this.observers_.indexOf(e);-1!==r&&this.observers_.splice(r,1)},t.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach(function(n){e.notifyObserver_(n)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(ye(this.state_)){case S.SUCCESS:Q(this.resolve_.bind(null,this.snapshot))();break;case S.CANCELED:case S.ERROR:Q(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(e){switch(ye(this.state_)){case S.RUNNING:case S.PAUSED:e.next&&Q(e.next.bind(e,this.snapshot))();break;case S.SUCCESS:e.complete&&Q(e.complete.bind(e))();break;default:e.error&&Q(e.error.bind(e,this.error_))()}},t.prototype.resume=function(){y("resume",[],arguments);var e="paused"===this.state_||"pausing"===this.state_;return e&&this.transition_("running"),e},t.prototype.pause=function(){y("pause",[],arguments);var e="running"===this.state_;return e&&this.transition_("pausing"),e},t.prototype.cancel=function(){y("cancel",[],arguments);var e="running"===this.state_||"pausing"===this.state_;return e&&this.transition_("canceling"),e},t}(),de=function(){function t(e,r){this.service=e,this.location=r instanceof N?r:N.makeFromUrl(r)}return t.prototype.toString=function(){return y("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,r){return new t(e,r)},t.prototype.mappings=function(){return function(){if(ue)return ue;var t=[];t.push(new T("bucket")),t.push(new T("generation")),t.push(new T("metageneration")),t.push(new T("name","fullPath",!0));var r=new T("name");r.xform=function(o,i){return function(t){return!Y(t)||t.length<2?t:Xe(t)}(i)},t.push(r);var a=new T("size");return a.xform=function(o,i){return I(i)?Number(i):i},t.push(a),t.push(new T("timeCreated")),t.push(new T("updated")),t.push(new T("md5Hash",null,!0)),t.push(new T("cacheControl",null,!0)),t.push(new T("contentDisposition",null,!0)),t.push(new T("contentEncoding",null,!0)),t.push(new T("contentLanguage",null,!0)),t.push(new T("contentType",null,!0)),t.push(new T("metadata","customMetadata",!0)),ue=t}()},t.prototype.child=function(e){y("child",[J()],arguments);var r=kt(this.location.path,e),n=new N(this.location.bucket,r);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===e)return null;var r=new N(this.location.bucket,e);return this.newRef(this.service,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=new N(this.location.bucket,"");return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Xe(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(e,r){return void 0===r&&(r=null),y("put",[ar(),Oe(!0)],arguments),this.throwIfRoot_("put"),new et(this,this.service,this.location,this.mappings(),new Re(e),r)},t.prototype.putString=function(e,r,n){void 0===r&&(r=b.RAW),y("putString",[J(),J(gt,!0),Oe(!0)],arguments),this.throwIfRoot_("putString");var a=Be(r,e),o=Object.assign({},n);return!I(o.contentType)&&I(a.contentType)&&(o.contentType=a.contentType),new et(this,this.service,this.location,this.mappings(),new Re(a.data,!0),o)},t.prototype.delete=function(){var e=this;return y("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(r){var n=Yt(e.service,e.location);return e.service.makeRequest(n,r).getPromise()})},t.prototype.listAll=function(){y("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then(function(){return e})},t.prototype.listAllHelper=function(e,r){return M(this,void 0,void 0,function(){var a,o,i;return q(this,function(u){switch(u.label){case 0:return[4,this.list({pageToken:r})];case 1:return a=u.sent(),(o=e.prefixes).push.apply(o,a.prefixes),(i=e.items).push.apply(i,a.items),null==a.nextPageToken?[3,3]:[4,this.listAllHelper(e,a.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})},t.prototype.list=function(e){y("list",[or(!0)],arguments);var r=this;return this.service.getAuthToken().then(function(n){var a=e||{},o=Vt(r.service,r.location,"/",a.pageToken,a.maxResults);return r.service.makeRequest(o,n).getPromise()})},t.prototype.getMetadata=function(){var e=this;return y("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(r){var n=Ze(e.service,e.location,e.mappings());return e.service.makeRequest(n,r).getPromise()})},t.prototype.updateMetadata=function(e){var r=this;return y("updateMetadata",[Oe()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(n){var a=Kt(r.service,r.location,e,r.mappings());return r.service.makeRequest(a,n).getPromise()})},t.prototype.getDownloadURL=function(){var e=this;return y("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(r){var n=Wt(e.service,e.location,e.mappings());return e.service.makeRequest(n,r).getPromise().then(function(a){if(null===a)throw _t();return a})})},t.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(t){return new R("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},t}(),ir=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}(),lr=function(){function t(e,r,n,a,o,i,u,s,l,c,d){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=u,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=l,this.pool_=d,this.promise_=new Promise(function(v,p){h.resolve_=v,h.reject_=p,h.start_()})}return t.prototype.start_=function(){var e=this;function n(a,o){var i=e.resolve_,u=e.reject_,s=o.xhr;if(o.wasSuccessCode)try{var l=e.callback_(s,s.getResponseText());F(l)?i(l):i()}catch(d){u(d)}else if(null!==s)(c=me()).setServerResponseProp(s.getResponseText()),u(e.errorCallback_?e.errorCallback_(s,c):c);else if(o.canceled)u(c=e.appDelete_?je():Ie());else{var c;u(c=new R("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?n(0,new pe(!1,null,!0)):this.backoffId_=function(t,e,r){var n=1,a=null,o=!1,i=0;function u(){return 2===i}var s=!1;function l(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];s||(s=!0,e.apply(null,p))}function c(p){a=setTimeout(function(){a=null,t(d,u())},p)}function d(p){for(var m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];if(!s){if(p)return void l.call.apply(l,Ce([null,p],m));var w;if(u()||o)return void l.call.apply(l,Ce([null,p],m));n<64&&(n*=2),1===i?(i=2,w=0):w=1e3*(n+Math.random()),c(w)}}var h=!1;function v(p){h||(h=!0,!s&&(null!==a?(p||(i=2),clearTimeout(a),c(0)):p||(i=1)))}return c(0),setTimeout(function(){o=!0,v(!0)},r),v}(function(a,o){if(o)a(!1,new pe(!1,null,!0));else{var i=e.pool_.createXhrIo();e.pendingXhr_=i,null!==e.progressCallback_&&i.addUploadProgressListener(u),i.send(e.url_,e.method_,e.body_,e.headers_).then(function(s){null!==e.progressCallback_&&s.removeUploadProgressListener(u),e.pendingXhr_=null;var l=(s=s).getErrorCode()===G.NO_ERROR,c=s.getStatus();if(l&&!e.isRetryStatusCode_(c)){var h=-1!==e.successCodes_.indexOf(c);a(!0,new pe(h,s))}else{var d=s.getErrorCode()===G.ABORT;a(!1,new pe(!1,null,d))}})}function u(s){null!==e.progressCallback_&&e.progressCallback_(s.loaded,s.lengthComputable?s.total:-1)}},n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var r=e>=500&&e<600,a=-1!==[408,429].indexOf(e),o=-1!==this.additionalRetryCodes_.indexOf(e);return r||a||o},t}(),pe=function(e,r,n){this.wasSuccessCode=e,this.xhr=r,this.canceled=!!n};var t,e,tt=function(){function t(e,r,n,a){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=r,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=n,this.bucket_=null!=a?N.makeFromBucketSpec(a):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new pr(this)}return t.extractBucket_=function(e){var r=null==e?void 0:e.storageBucket;return null==r?null:N.makeFromBucketSpec(r)},t.prototype.getAuthToken=function(){return M(this,void 0,void 0,function(){var e,r;return q(this,function(n){switch(n.label){case 0:return(e=this.authProvider_.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(r=n.sent()))return[2,r.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(e){return e.cancel()}),this.requests_.clear()},t.prototype.makeStorageReference=function(e){return new de(this,e)},t.prototype.makeRequest=function(e,r){var n=this;if(this.deleted_)return new ir(je());var a=function(t,e,r,n){var a=Ve(t.urlParams),o=t.url+a,i=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(i,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(i,r),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==U.default?U.default.SDK_VERSION:"AppManager")}(i),new lr(o,t.method,i,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}(e,this.appId_,r,this.pool_);return this.requests_.add(a),a.getPromise().then(function(){return n.requests_.delete(a)},function(){return n.requests_.delete(a)}),a},t.prototype.ref=function(e){function r(a){if("string"!=typeof a)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(a))throw"Expected child path but got a URL, use refFromURL instead."}if(y("ref",[J(r,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new de(this,this.bucket_);return null!=e?n.child(e):n},t.prototype.refFromURL=function(e){function r(n){if("string"!=typeof n)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(n))throw"Expected full URL but got a child path, use ref instead.";try{N.makeFromUrl(n)}catch(a){throw"Expected valid full URL but got an invalid one."}}return y("refFromURL",[J(r,!1)],arguments),new de(this,e)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(e){y("setMaxUploadRetryTime",[$e()],arguments),this.maxUploadRetryTime_=e},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(e){y("setMaxOperationRetryTime",[$e()],arguments),this.maxOperationRetryTime_=e},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),pr=function(){function t(e){this.service_=e}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();e={TaskState:S,TaskEvent:be,StringFormat:b,Storage:tt,Reference:de},(t=U.default).INTERNAL.registerComponent(new nt.Component("storage",function(t,e){var r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal");return new tt(r,n,new Ut,e)},"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.41")},4330:(ve,W,k)=>{k.d(W,{q:()=>D});var U=k(3556);let D=(()=>{class E{}return E.\u0275fac=function(x){return new(x||E)},E.\u0275mod=U.oAB({type:E}),E.\u0275inj=U.cJS({imports:[[]]}),E})()},821:(ve,W,k)=>{k.d(W,{R:()=>D});var U=k(3556);let D=(()=>{class E{ngOnInit(){}}return E.\u0275fac=function(x){return new(x||E)},E.\u0275cmp=U.Xpm({type:E,selectors:[["loader"]],decls:1,vars:0,consts:[[1,"lds-dual-ring"]],template:function(x,K){1&x&&U._UZ(0,"div",0)},styles:['.lds-dual-ring[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:35px;height:35px;border-radius:50%;border:4px solid #fff;border-color:#fff transparent #fff transparent;animation:lds-dual-ring 1.2s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),E})()},8239:(ve,W,k)=>{function U(E,P,x,K,$,ee,M){try{var q=E[ee](M),X=q.value}catch(Pe){return void x(Pe)}q.done?P(X):Promise.resolve(X).then(K,$)}function D(E){return function(){var P=this,x=arguments;return new Promise(function(K,$){var ee=E.apply(P,x);function M(X){U(ee,K,$,M,q,"next",X)}function q(X){U(ee,K,$,M,q,"throw",X)}M(void 0)})}}k.d(W,{Z:()=>D})}}]);